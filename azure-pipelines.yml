trigger:
  branches:
    include:
      - main
pool:
  name: 'vstsvm-pool'

steps:
  - checkout: none 
  - script: |
      target_file_name="schema.json"
      if [ -d "tution" ]; then
        echo "Removing existing tution directory"
        rm -rf tution
        ls -la
      fi

      git clone -b test https://github.com/debayanChakra/tution.git
      cd tution
      ls -la
      pwd
      file_path=${pwd}/${target_file_name}
      echo $file_path
      - task: AzureFileCopy@6
        inputs:
          SourcePath: 'schema.json'
          azureSubscription: 'My Azure Subscription(1)(3b68346a-fedc-44aa-b468-2b9ca87bb141)'
          Destination: 'AzureBlob'
          storage: 'pramit46'
          ContainerName: 'schema'
          BlobPrefix: 'schema/'
      